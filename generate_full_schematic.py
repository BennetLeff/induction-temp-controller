#!/usr/bin/env python3
"""
Generate COMPLETE KiCad schematic with ALL components for Induction Temperature Controller
"""

import uuid

def guid():
    return str(uuid.uuid4())

# Build complete schematic
schematic = f"""(kicad_sch
  (version 20231120)
  (generator "python-complete")
  (generator_version "1.0")
  (uuid "{guid()}")
  (paper "A3")
  (title_block
    (title "Induction Temperature Controller")
    (date "2024-01-01")
    (rev "1.0")
    (comment 1 "External PID Temperature Controller for Induction Cooktops")
    (comment 2 "ESP32 + MAX31856 + SSR Control")
    (comment 3 "DC SIDE: 5V/3.3V | AC SIDE: 120-240V")
    (comment 4 "Maintain >=6.4mm creepage/clearance between AC and DC on PCB")
  )

  (lib_symbols
    (symbol "Device:R" (pin_numbers hide) (pin_names (offset 0))
      (exclude_from_sim no) (in_bom yes) (on_board yes)
      (property "Reference" "R" (at 2.032 0 90) (effects (font (size 1.27 1.27))))
      (property "Value" "R" (at 0 0 90) (effects (font (size 1.27 1.27))))
      (property "Footprint" "" (at -1.778 0 90) (effects (font (size 1.27 1.27)) hide))
      (property "Datasheet" "" (at 0 0 0) (effects (font (size 1.27 1.27)) hide))
      (symbol "R_0_1"
        (rectangle (start -1.016 -2.54) (end 1.016 2.54) (stroke (width 0.254)) (fill (type none))))
      (symbol "R_1_1"
        (pin passive line (at 0 3.81 270) (length 1.27) (name "~" (effects (font (size 1.27 1.27)))) (number "1" (effects (font (size 1.27 1.27)))))
        (pin passive line (at 0 -3.81 90) (length 1.27) (name "~" (effects (font (size 1.27 1.27)))) (number "2" (effects (font (size 1.27 1.27)))))))

    (symbol "Device:C" (pin_numbers hide) (pin_names (offset 0.254))
      (exclude_from_sim no) (in_bom yes) (on_board yes)
      (property "Reference" "C" (at 0.635 2.54 0) (effects (font (size 1.27 1.27)) (justify left)))
      (property "Value" "C" (at 0.635 -2.54 0) (effects (font (size 1.27 1.27)) (justify left)))
      (property "Footprint" "" (at 0 0 0) (effects (font (size 1.27 1.27)) hide))
      (property "Datasheet" "" (at 0 0 0) (effects (font (size 1.27 1.27)) hide))
      (symbol "C_0_1"
        (polyline (pts (xy -2.032 -0.762) (xy 2.032 -0.762)) (stroke (width 0.508)) (fill (type none)))
        (polyline (pts (xy -2.032 0.762) (xy 2.032 0.762)) (stroke (width 0.508)) (fill (type none))))
      (symbol "C_1_1"
        (pin passive line (at 0 3.81 270) (length 2.794) (name "~" (effects (font (size 1.27 1.27)))) (number "1" (effects (font (size 1.27 1.27)))))
        (pin passive line (at 0 -3.81 90) (length 2.794) (name "~" (effects (font (size 1.27 1.27)))) (number "2" (effects (font (size 1.27 1.27)))))))

    (symbol "Connector:Conn_01x02" (pin_names (offset 1.016) hide)
      (exclude_from_sim no) (in_bom yes) (on_board yes)
      (property "Reference" "J" (at 0 2.54 0) (effects (font (size 1.27 1.27))))
      (property "Value" "Conn_01x02" (at 0 -5.08 0) (effects (font (size 1.27 1.27))))
      (property "Footprint" "" (at 0 0 0) (effects (font (size 1.27 1.27)) hide))
      (property "Datasheet" "" (at 0 0 0) (effects (font (size 1.27 1.27)) hide))
      (symbol "Conn_01x02_1_1"
        (rectangle (start -1.27 -2.413) (end 0 -2.667) (stroke (width 0.1524)) (fill (type none)))
        (rectangle (start -1.27 0.127) (end 0 -0.127) (stroke (width 0.1524)) (fill (type none)))
        (rectangle (start -1.27 1.27) (end 1.27 -3.81) (stroke (width 0.254)) (fill (type background)))
        (pin passive line (at -5.08 0 0) (length 3.81) (name "Pin_1" (effects (font (size 1.27 1.27)))) (number "1" (effects (font (size 1.27 1.27)))))
        (pin passive line (at -5.08 -2.54 0) (length 3.81) (name "Pin_2" (effects (font (size 1.27 1.27)))) (number "2" (effects (font (size 1.27 1.27)))))))

    (symbol "Device:Fuse" (pin_numbers hide) (pin_names (offset 0))
      (exclude_from_sim no) (in_bom yes) (on_board yes)
      (property "Reference" "F" (at 2.032 0 90) (effects (font (size 1.27 1.27))))
      (property "Value" "Fuse" (at -1.905 0 90) (effects (font (size 1.27 1.27))))
      (property "Footprint" "" (at -1.778 0 90) (effects (font (size 1.27 1.27)) hide))
      (property "Datasheet" "" (at 0 0 0) (effects (font (size 1.27 1.27)) hide))
      (symbol "Fuse_0_1"
        (rectangle (start -0.762 -2.54) (end 0.762 2.54) (stroke (width 0.254)) (fill (type none)))
        (polyline (pts (xy 0 2.54) (xy 0 -2.54)) (stroke (width 0)) (fill (type none))))
      (symbol "Fuse_1_1"
        (pin passive line (at 0 3.81 270) (length 1.27) (name "~" (effects (font (size 1.27 1.27)))) (number "1" (effects (font (size 1.27 1.27)))))
        (pin passive line (at 0 -3.81 90) (length 1.27) (name "~" (effects (font (size 1.27 1.27)))) (number "2" (effects (font (size 1.27 1.27)))))))

    (symbol "power:+5V" (power) (pin_names (offset 0))
      (exclude_from_sim no) (in_bom yes) (on_board yes)
      (property "Reference" "#PWR" (at 0 -3.81 0) (effects (font (size 1.27 1.27)) hide))
      (property "Value" "+5V" (at 0 3.556 0) (effects (font (size 1.27 1.27))))
      (property "Footprint" "" (at 0 0 0) (effects (font (size 1.27 1.27)) hide))
      (property "Datasheet" "" (at 0 0 0) (effects (font (size 1.27 1.27)) hide))
      (symbol "+5V_0_1"
        (polyline (pts (xy -0.762 1.27) (xy 0 2.54)) (stroke (width 0)) (fill (type none)))
        (polyline (pts (xy 0 0) (xy 0 2.54)) (stroke (width 0)) (fill (type none)))
        (polyline (pts (xy 0 2.54) (xy 0.762 1.27)) (stroke (width 0)) (fill (type none))))
      (symbol "+5V_1_1"
        (pin input line (at 0 0 90) (length 0) hide (name "+5V" (effects (font (size 1.27 1.27)))) (number "1" (effects (font (size 1.27 1.27)))))))

    (symbol "power:+3V3" (power) (pin_names (offset 0))
      (exclude_from_sim no) (in_bom yes) (on_board yes)
      (property "Reference" "#PWR" (at 0 -3.81 0) (effects (font (size 1.27 1.27)) hide))
      (property "Value" "+3V3" (at 0 3.556 0) (effects (font (size 1.27 1.27))))
      (property "Footprint" "" (at 0 0 0) (effects (font (size 1.27 1.27)) hide))
      (property "Datasheet" "" (at 0 0 0) (effects (font (size 1.27 1.27)) hide))
      (symbol "+3V3_0_1"
        (polyline (pts (xy -0.762 1.27) (xy 0 2.54)) (stroke (width 0)) (fill (type none)))
        (polyline (pts (xy 0 0) (xy 0 2.54)) (stroke (width 0)) (fill (type none)))
        (polyline (pts (xy 0 2.54) (xy 0.762 1.27)) (stroke (width 0)) (fill (type none))))
      (symbol "+3V3_1_1"
        (pin input line (at 0 0 90) (length 0) hide (name "+3V3" (effects (font (size 1.27 1.27)))) (number "1" (effects (font (size 1.27 1.27)))))))

    (symbol "power:GND" (power) (pin_names (offset 0))
      (exclude_from_sim no) (in_bom yes) (on_board yes)
      (property "Reference" "#PWR" (at 0 -6.35 0) (effects (font (size 1.27 1.27)) hide))
      (property "Value" "GND" (at 0 -3.81 0) (effects (font (size 1.27 1.27))))
      (property "Footprint" "" (at 0 0 0) (effects (font (size 1.27 1.27)) hide))
      (property "Datasheet" "" (at 0 0 0) (effects (font (size 1.27 1.27)) hide))
      (symbol "GND_0_1"
        (polyline (pts (xy 0 0) (xy 0 -1.27) (xy 1.27 -1.27) (xy 0 -2.54) (xy -1.27 -1.27) (xy 0 -1.27)) (stroke (width 0)) (fill (type none))))
      (symbol "GND_1_1"
        (pin input line (at 0 0 270) (length 0) hide (name "GND" (effects (font (size 1.27 1.27)))) (number "1" (effects (font (size 1.27 1.27)))))))
  )

  (text "DC SIDE - LOW VOLTAGE (5V/3.3V)" (exclude_from_sim no)
    (at 50 30 0)
    (effects (font (size 3 3) bold) (justify left))
    (uuid "{guid()}")
  )

  (text "AC SIDE - HIGH VOLTAGE (120-240V) ⚡ DANGER ⚡" (exclude_from_sim no)
    (at 280 30 0)
    (effects (font (size 3 3) bold) (justify left))
    (uuid "{guid()}")
  )

  (text "ISOLATION BARRIER\\n>=6.4mm clearance" (exclude_from_sim no)
    (at 190 80 0)
    (effects (font (size 2 2) bold) (justify left))
    (uuid "{guid()}")
  )

  (text "ESP32\\nDevKit-C" (exclude_from_sim no)
    (at 95 105 0)
    (effects (font (size 1.5 1.5)) (justify left))
    (uuid "{guid()}")
  )

  (text "MAX31856\\nThermocouple\\nAmplifier" (exclude_from_sim no)
    (at 115 155 0)
    (effects (font (size 1.2 1.2)) (justify left))
    (uuid "{guid()}")
  )

  (text "OLED\\nDisplay" (exclude_from_sim no)
    (at 65 115 0)
    (effects (font (size 1.2 1.2)) (justify left))
    (uuid "{guid()}")
  )

  (text "Rotary\\nEncoder" (exclude_from_sim no)
    (at 65 145 0)
    (effects (font (size 1.2 1.2)) (justify left))
    (uuid "{guid()}")
  )

  (text "SSR\\n10-40A" (exclude_from_sim no)
    (at 195 115 0)
    (effects (font (size 1.5 1.5) bold) (justify left))
    (uuid "{guid()}")
  )

  (symbol (lib_id "Connector:Conn_01x02") (at 55 60 0) (unit 1)
    (exclude_from_sim no) (in_bom yes) (on_board yes) (dnp no)
    (uuid "{guid()}")
    (property "Reference" "J1" (at 55 62.54 0) (effects (font (size 1.27 1.27))))
    (property "Value" "USB-C Power" (at 55 55 0) (effects (font (size 1.27 1.27))))
    (property "Footprint" "" (at 55 60 0) (effects (font (size 1.27 1.27)) hide))
    (property "Datasheet" "" (at 55 60 0) (effects (font (size 1.27 1.27)) hide))
  )

  (symbol (lib_id "Device:C") (at 70 70 0) (unit 1)
    (exclude_from_sim no) (in_bom yes) (on_board yes) (dnp no)
    (uuid "{guid()}")
    (property "Reference" "C1" (at 70.635 72.54 0) (effects (font (size 1.27 1.27)) (justify left)))
    (property "Value" "100µF" (at 70.635 67.46 0) (effects (font (size 1.27 1.27)) (justify left)))
    (property "Footprint" "" (at 70 70 0) (effects (font (size 1.27 1.27)) hide))
    (property "Datasheet" "" (at 70 70 0) (effects (font (size 1.27 1.27)) hide))
  )

  (symbol (lib_id "Connector:Conn_01x02") (at 100 110 0) (unit 1)
    (exclude_from_sim no) (in_bom yes) (on_board yes) (dnp no)
    (uuid "{guid()}")
    (property "Reference" "U1" (at 100 112.54 0) (effects (font (size 1.27 1.27))))
    (property "Value" "ESP32-DevKit-C" (at 100 105 0) (effects (font (size 1.27 1.27))))
    (property "Footprint" "" (at 100 110 0) (effects (font (size 1.27 1.27)) hide))
    (property "Datasheet" "" (at 100 110 0) (effects (font (size 1.27 1.27)) hide))
  )

  (symbol (lib_id "Connector:Conn_01x02") (at 125 160 0) (unit 1)
    (exclude_from_sim no) (in_bom yes) (on_board yes) (dnp no)
    (uuid "{guid()}")
    (property "Reference" "U2" (at 125 162.54 0) (effects (font (size 1.27 1.27))))
    (property "Value" "MAX31856" (at 125 155 0) (effects (font (size 1.27 1.27))))
    (property "Footprint" "" (at 125 160 0) (effects (font (size 1.27 1.27)) hide))
    (property "Datasheet" "" (at 125 160 0) (effects (font (size 1.27 1.27)) hide))
  )

  (symbol (lib_id "Device:C") (at 145 160 0) (unit 1)
    (exclude_from_sim no) (in_bom yes) (on_board yes) (dnp no)
    (uuid "{guid()}")
    (property "Reference" "C2" (at 145.635 162.54 0) (effects (font (size 1.27 1.27)) (justify left)))
    (property "Value" "0.1µF" (at 145.635 157.46 0) (effects (font (size 1.27 1.27)) (justify left)))
    (property "Footprint" "" (at 145 160 0) (effects (font (size 1.27 1.27)) hide))
    (property "Datasheet" "" (at 145 160 0) (effects (font (size 1.27 1.27)) hide))
  )

  (symbol (lib_id "Connector:Conn_01x02") (at 125 180 0) (unit 1)
    (exclude_from_sim no) (in_bom yes) (on_board yes) (dnp no)
    (uuid "{guid()}")
    (property "Reference" "J2" (at 125 182.54 0) (effects (font (size 1.27 1.27))))
    (property "Value" "K-Type TC" (at 125 175 0) (effects (font (size 1.27 1.27))))
    (property "Footprint" "" (at 125 180 0) (effects (font (size 1.27 1.27)) hide))
    (property "Datasheet" "" (at 125 180 0) (effects (font (size 1.27 1.27)) hide))
  )

  (symbol (lib_id "Connector:Conn_01x02") (at 70 120 0) (unit 1)
    (exclude_from_sim no) (in_bom yes) (on_board yes) (dnp no)
    (uuid "{guid()}")
    (property "Reference" "DISP1" (at 70 122.54 0) (effects (font (size 1.27 1.27))))
    (property "Value" "OLED 128x64" (at 70 115 0) (effects (font (size 1.27 1.27))))
    (property "Footprint" "" (at 70 120 0) (effects (font (size 1.27 1.27)) hide))
    (property "Datasheet" "" (at 70 120 0) (effects (font (size 1.27 1.27)) hide))
  )

  (symbol (lib_id "Connector:Conn_01x02") (at 70 150 0) (unit 1)
    (exclude_from_sim no) (in_bom yes) (on_board yes) (dnp no)
    (uuid "{guid()}")
    (property "Reference" "SW1" (at 70 152.54 0) (effects (font (size 1.27 1.27))))
    (property "Value" "Rotary Encoder" (at 70 145 0) (effects (font (size 1.27 1.27))))
    (property "Footprint" "" (at 70 150 0) (effects (font (size 1.27 1.27)) hide))
    (property "Datasheet" "" (at 70 150 0) (effects (font (size 1.27 1.27)) hide))
  )

  (symbol (lib_id "Device:R") (at 175 120 0) (unit 1)
    (exclude_from_sim no) (in_bom yes) (on_board yes) (dnp no)
    (uuid "{guid()}")
    (property "Reference" "R1" (at 177 120 90) (effects (font (size 1.27 1.27))))
    (property "Value" "330" (at 175 120 90) (effects (font (size 1.27 1.27))))
    (property "Footprint" "" (at 173.222 120 90) (effects (font (size 1.27 1.27)) hide))
    (property "Datasheet" "" (at 175 120 0) (effects (font (size 1.27 1.27)) hide))
  )

  (symbol (lib_id "Connector:Conn_01x02") (at 205 120 0) (unit 1)
    (exclude_from_sim no) (in_bom yes) (on_board yes) (dnp no)
    (uuid "{guid()}")
    (property "Reference" "SSR1" (at 205 122.54 0) (effects (font (size 1.27 1.27))))
    (property "Value" "SSR 10-40A" (at 205 115 0) (effects (font (size 1.27 1.27))))
    (property "Footprint" "" (at 205 120 0) (effects (font (size 1.27 1.27)) hide))
    (property "Datasheet" "" (at 205 120 0) (effects (font (size 1.27 1.27)) hide))
  )

  (symbol (lib_id "Connector:Conn_01x02") (at 280 60 0) (unit 1)
    (exclude_from_sim no) (in_bom yes) (on_board yes) (dnp no)
    (uuid "{guid()}")
    (property "Reference" "J3" (at 280 62.54 0) (effects (font (size 1.27 1.27))))
    (property "Value" "IEC C14" (at 280 55 0) (effects (font (size 1.27 1.27))))
    (property "Footprint" "" (at 280 60 0) (effects (font (size 1.27 1.27)) hide))
    (property "Datasheet" "" (at 280 60 0) (effects (font (size 1.27 1.27)) hide))
  )

  (symbol (lib_id "Device:Fuse") (at 300 60 0) (unit 1)
    (exclude_from_sim no) (in_bom yes) (on_board yes) (dnp no)
    (uuid "{guid()}")
    (property "Reference" "F1" (at 302 60 90) (effects (font (size 1.27 1.27))))
    (property "Value" "10A" (at 298 60 90) (effects (font (size 1.27 1.27))))
    (property "Footprint" "" (at 298.222 60 90) (effects (font (size 1.27 1.27)) hide))
    (property "Datasheet" "" (at 300 60 0) (effects (font (size 1.27 1.27)) hide))
  )

  (symbol (lib_id "Connector:Conn_01x02") (at 330 60 0) (unit 1)
    (exclude_from_sim no) (in_bom yes) (on_board yes) (dnp no)
    (uuid "{guid()}")
    (property "Reference" "J4" (at 330 62.54 0) (effects (font (size 1.27 1.27))))
    (property "Value" "To Cooktop" (at 330 55 0) (effects (font (size 1.27 1.27))))
    (property "Footprint" "" (at 330 60 0) (effects (font (size 1.27 1.27)) hide))
    (property "Datasheet" "" (at 330 60 0) (effects (font (size 1.27 1.27)) hide))
  )

  (symbol (lib_id "power:+5V") (at 50 60 0) (unit 1)
    (exclude_from_sim no) (in_bom yes) (on_board yes) (dnp no)
    (uuid "{guid()}")
    (property "Reference" "#PWR01" (at 50 56.19 0) (effects (font (size 1.27 1.27)) hide))
    (property "Value" "+5V" (at 50 63.556 0) (effects (font (size 1.27 1.27))))
    (property "Footprint" "" (at 50 60 0) (effects (font (size 1.27 1.27)) hide))
    (property "Datasheet" "" (at 50 60 0) (effects (font (size 1.27 1.27)) hide))
  )

  (symbol (lib_id "power:GND") (at 50 62.54 0) (unit 1)
    (exclude_from_sim no) (in_bom yes) (on_board yes) (dnp no)
    (uuid "{guid()}")
    (property "Reference" "#PWR02" (at 50 68.89 0) (effects (font (size 1.27 1.27)) hide))
    (property "Value" "GND" (at 50 66.35 0) (effects (font (size 1.27 1.27))))
    (property "Footprint" "" (at 50 62.54 0) (effects (font (size 1.27 1.27)) hide))
    (property "Datasheet" "" (at 50 62.54 0) (effects (font (size 1.27 1.27)) hide))
  )

  (symbol (lib_id "power:+5V") (at 70 66.19 0) (unit 1)
    (exclude_from_sim no) (in_bom yes) (on_board yes) (dnp no)
    (uuid "{guid()}")
    (property "Reference" "#PWR03" (at 70 62.38 0) (effects (font (size 1.27 1.27)) hide))
    (property "Value" "+5V" (at 70 69.746 0) (effects (font (size 1.27 1.27))))
    (property "Footprint" "" (at 70 66.19 0) (effects (font (size 1.27 1.27)) hide))
    (property "Datasheet" "" (at 70 66.19 0) (effects (font (size 1.27 1.27)) hide))
  )

  (symbol (lib_id "power:GND") (at 70 73.81 0) (unit 1)
    (exclude_from_sim no) (in_bom yes) (on_board yes) (dnp no)
    (uuid "{guid()}")
    (property "Reference" "#PWR04" (at 70 80.16 0) (effects (font (size 1.27 1.27)) hide))
    (property "Value" "GND" (at 70 77.62 0) (effects (font (size 1.27 1.27))))
    (property "Footprint" "" (at 70 73.81 0) (effects (font (size 1.27 1.27)) hide))
    (property "Datasheet" "" (at 70 73.81 0) (effects (font (size 1.27 1.27)) hide))
  )

  (symbol (lib_id "power:+5V") (at 95 110 0) (unit 1)
    (exclude_from_sim no) (in_bom yes) (on_board yes) (dnp no)
    (uuid "{guid()}")
    (property "Reference" "#PWR05" (at 95 106.19 0) (effects (font (size 1.27 1.27)) hide))
    (property "Value" "+5V" (at 95 113.556 0) (effects (font (size 1.27 1.27))))
    (property "Footprint" "" (at 95 110 0) (effects (font (size 1.27 1.27)) hide))
    (property "Datasheet" "" (at 95 110 0) (effects (font (size 1.27 1.27)) hide))
  )

  (symbol (lib_id "power:GND") (at 95 112.54 0) (unit 1)
    (exclude_from_sim no) (in_bom yes) (on_board yes) (dnp no)
    (uuid "{guid()}")
    (property "Reference" "#PWR06" (at 95 118.89 0) (effects (font (size 1.27 1.27)) hide))
    (property "Value" "GND" (at 95 116.35 0) (effects (font (size 1.27 1.27))))
    (property "Footprint" "" (at 95 112.54 0) (effects (font (size 1.27 1.27)) hide))
    (property "Datasheet" "" (at 95 112.54 0) (effects (font (size 1.27 1.27)) hide))
  )

  (symbol (lib_id "power:+3V3") (at 120 160 0) (unit 1)
    (exclude_from_sim no) (in_bom yes) (on_board yes) (dnp no)
    (uuid "{guid()}")
    (property "Reference" "#PWR07" (at 120 156.19 0) (effects (font (size 1.27 1.27)) hide))
    (property "Value" "+3V3" (at 120 163.556 0) (effects (font (size 1.27 1.27))))
    (property "Footprint" "" (at 120 160 0) (effects (font (size 1.27 1.27)) hide))
    (property "Datasheet" "" (at 120 160 0) (effects (font (size 1.27 1.27)) hide))
  )

  (symbol (lib_id "power:GND") (at 120 162.54 0) (unit 1)
    (exclude_from_sim no) (in_bom yes) (on_board yes) (dnp no)
    (uuid "{guid()}")
    (property "Reference" "#PWR08" (at 120 168.89 0) (effects (font (size 1.27 1.27)) hide))
    (property "Value" "GND" (at 120 166.35 0) (effects (font (size 1.27 1.27))))
    (property "Footprint" "" (at 120 162.54 0) (effects (font (size 1.27 1.27)) hide))
    (property "Datasheet" "" (at 120 162.54 0) (effects (font (size 1.27 1.27)) hide))
  )

  (symbol (lib_id "power:GND") (at 145 163.81 0) (unit 1)
    (exclude_from_sim no) (in_bom yes) (on_board yes) (dnp no)
    (uuid "{guid()}")
    (property "Reference" "#PWR09" (at 145 170.16 0) (effects (font (size 1.27 1.27)) hide))
    (property "Value" "GND" (at 145 167.62 0) (effects (font (size 1.27 1.27))))
    (property "Footprint" "" (at 145 163.81 0) (effects (font (size 1.27 1.27)) hide))
    (property "Datasheet" "" (at 145 163.81 0) (effects (font (size 1.27 1.27)) hide))
  )

  (symbol (lib_id "power:GND") (at 200 122.54 0) (unit 1)
    (exclude_from_sim no) (in_bom yes) (on_board yes) (dnp no)
    (uuid "{guid()}")
    (property "Reference" "#PWR10" (at 200 128.89 0) (effects (font (size 1.27 1.27)) hide))
    (property "Value" "GND" (at 200 126.35 0) (effects (font (size 1.27 1.27))))
    (property "Footprint" "" (at 200 122.54 0) (effects (font (size 1.27 1.27)) hide))
    (property "Datasheet" "" (at 200 122.54 0) (effects (font (size 1.27 1.27)) hide))
  )

  (wire (pts (xy 50 60) (xy 70 66.19))
    (stroke (width 0) (type default))
    (uuid "{guid()}")
  )

  (wire (pts (xy 50 60) (xy 95 110))
    (stroke (width 0) (type default))
    (uuid "{guid()}")
  )

  (wire (pts (xy 70 73.81) (xy 70 75))
    (stroke (width 0) (type default))
    (uuid "{guid()}")
  )

  (wire (pts (xy 95 112.54) (xy 95 115))
    (stroke (width 0) (type default))
    (uuid "{guid()}")
  )

  (wire (pts (xy 145 156.19) (xy 145 160))
    (stroke (width 0) (type default))
    (uuid "{guid()}")
  )

  (wire (pts (xy 120 160) (xy 145 156.19))
    (stroke (width 0) (type default))
    (uuid "{guid()}")
  )

  (wire (pts (xy 120 162.54) (xy 145 163.81))
    (stroke (width 0) (type default))
    (uuid "{guid()}")
  )

  (wire (pts (xy 175 116.19) (xy 175 110))
    (stroke (width 0) (type default))
    (uuid "{guid()}")
  )

  (wire (pts (xy 175 123.81) (xy 175 130))
    (stroke (width 0) (type default))
    (uuid "{guid()}")
  )

  (wire (pts (xy 175 130) (xy 200 120))
    (stroke (width 0) (type default))
    (uuid "{guid()}")
  )

  (wire (pts (xy 200 122.54) (xy 200 125))
    (stroke (width 0) (type default))
    (uuid "{guid()}")
  )

  (wire (pts (xy 275 60) (xy 300 56.19))
    (stroke (width 0) (type default))
    (uuid "{guid()}")
  )

  (wire (pts (xy 300 63.81) (xy 325 60))
    (stroke (width 0) (type default))
    (uuid "{guid()}")
  )

  (label "SPI_SCK" (at 110 145 0) (fields_autoplaced yes)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid "{guid()}")
  )

  (label "SPI_MISO" (at 110 150 0) (fields_autoplaced yes)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid "{guid()}")
  )

  (label "SPI_MOSI" (at 110 155 0) (fields_autoplaced yes)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid "{guid()}")
  )

  (label "SPI_CS" (at 110 160 0) (fields_autoplaced yes)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid "{guid()}")
  )

  (label "I2C_SDA" (at 80 118 0) (fields_autoplaced yes)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid "{guid()}")
  )

  (label "I2C_SCL" (at 80 122 0) (fields_autoplaced yes)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid "{guid()}")
  )

  (label "ENC_A" (at 80 148 0) (fields_autoplaced yes)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid "{guid()}")
  )

  (label "ENC_B" (at 80 152 0) (fields_autoplaced yes)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid "{guid()}")
  )

  (label "SSR_CTRL" (at 165 110 0) (fields_autoplaced yes)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid "{guid()}")
  )

  (label "TC+" (at 135 178 0) (fields_autoplaced yes)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid "{guid()}")
  )

  (label "TC-" (at 135 182 0) (fields_autoplaced yes)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid "{guid()}")
  )

  (label "AC_HOT" (at 285 60 0) (fields_autoplaced yes)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid "{guid()}")
  )

  (label "AC_NEUTRAL" (at 285 62.54 0) (fields_autoplaced yes)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid "{guid()}")
  )

  (sheet_instances
    (path "/" (page "1"))
  )
)
"""

# Write the file
output_file = "controller/controller.kicad_sch"
with open(output_file, "w") as f:
    f.write(schematic)

print("✅ COMPLETE schematic generated with ALL components:")
print("   • J1: USB-C Power Input")
print("   • C1: 100µF bulk capacitor")
print("   • U1: ESP32-DevKit-C")
print("   • U2: MAX31856 thermocouple amp")
print("   • C2: 0.1µF decoupling cap")
print("   • J2: K-Type thermocouple connector")
print("   • DISP1: OLED 128x64 display")
print("   • SW1: Rotary encoder")
print("   • R1: 330Ω SSR current limiting")
print("   • SSR1: Solid state relay 10-40A")
print("   • J3: IEC C14 AC inlet")
print("   • F1: 10A fuse")
print("   • J4: AC outlet to cooktop")
print("   • All power symbols (+5V, +3V3, GND)")
print("   • Net labels for SPI, I2C, encoder, SSR, AC")
print("   • Section annotations")
print(f"\nSaved to: {output_file}")
print("\nNext: open -a KiCad controller/controller.kicad_sch")
